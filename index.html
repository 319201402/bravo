<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>QQ背景</title>
<style>*{box-sizing:border-box}body,html{margin:0;height:100%;font-family:microsoft yahei;overflow:hidden}button{outline:0}.main-wnd{position:absolute;width:430px;height:330px;border-radius:3px;font-size:14px;box-shadow:0 0 15px -2px;-webkit-user-select:none}.main-wnd.tips-show{height:auto}.main-wnd canvas{border-radius:3px 3px 0 0}.wnd-header{width:100%;height:182px;border-radius:2px 2px 0 0;background:#09f}.control-box{position:absolute;top:0;right:0}.control-btn{float:left;width:29px;height:29px;color:#fff;font-size:22px;background:0;border:none;outline:0;-webkit-appearance:none;-webkit-transition:background .3s}.control-btn:hover{background:hsla(0,0%,100%,.2)}.control-btn:active{padding:2px 0 0 2px;background:hsla(0,0%,100%,.4)}.btn-setting:before{content:'';display:inline-block;width:0;height:0;border:solid transparent;border-top-color:#fff;border-width:5px 6px}.btn-min:before{content:'';display:inline-block;width:10px;height:3px;border-top:2px solid #fff}.btn-close{border-top-right-radius:2px}.btn-close:hover{background:#d44027}.btn-close:active{background:#a62a15}.wnd-content{width:100%;height:148px;background:#ebf2f9;border-radius:0 0 2px 2px}.content-center,.content-left,.content-right{float:left;height:100%;padding-top:9pt}.content-left{width:134px;padding-right:9pt}.content-center{width:194px}.content-right{width:102px;padding-left:9pt}.avatar-wrap{position:relative;float:right;width:5pc;height:5pc;border-radius:5pc;background:#ddd}.avatar-wrap>.login-state{position:absolute;right:0;bottom:0;width:17px;height:17px}.avatar{width:5pc;height:5pc;border-radius:5pc}.login-state:before{content:'';display:inline-block;margin:2px;width:13px;height:13px;border-radius:13px}.login-state:hover{background:hsla(0,0%,78%,.5)}.login-state-menu{display:none;position:absolute;font-size:9pt;width:105px;left:70px;top:85px;padding:1px;background:#fff linear-gradient(to right,#ededed 26px,#fff 26px);border-radius:2px;box-shadow:0 0 10px -2px}.menu-show>.login-state-menu{display:block}.menu-item{padding:3px;cursor:default}.menu-item:hover{color:#fff;background:#009bdb}.menu-item:before{content:'';display:inline-block;width:13px;height:13px;border-radius:13px;margin-left:1px;margin-right:1pc;vertical-align:middle}.menu-divider{margin:1px 3px 1px 30px;border-top:1px solid #aaa}.mi-online:before{background:#70ed3a}.mi-qme:before{background:#fea75d}.mi-away:before{background:#bbb}.mi-busy:before{background:#f75137}.mi-quiet:before{background:#f59c9c}.mi-invisible:before{background:#fea356}.txt-wrap{width:100%;height:30px;background:#fff;border:1px solid #ddd}.txt-wrap:hover{box-shadow:inset 0 0 0 1px #1583dd}.txt-wrap>.txt-btn{background:0;border:none}.tw-acc{border-radius:5px 5px 0 0}.tw-acc>.txt-btn:before{border-width:5px;border-top-color:#aaa}.tw-psw{border-radius:0 0 5px 5px;border-top:none}.txt-wrap>.txt{width:150px;margin-left:5px;border:none;background:0;outline:0;height:100%}.content-right .link-btn{color:#2685e3;margin:0;padding:0;border:none;background:0;line-height:30px;letter-spacing:-1px;cursor:pointer}.link-btn:hover{color:#48a7f5}.link-btn:active{color:#0463c1}.login-option{padding:5px 0;color:#666;font-size:9pt}.lo-auto-login{float:right}.chkbox{position:relative;width:13px;height:13px;background:#fff;border:1px solid #ccc;outline:0;margin-top:0;vertical-align:top;-webkit-appearance:none}.chkbox:checked,.chkbox:hover{border-color:#3076c1}.chkbox:checked{background:#3076c1}.chkbox:checked:before{content:'';position:absolute;top:-1px;left:3px;width:4px;height:8px;border:3px solid #fff;border-width:0 2px 2px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.login-btn{width:100%;height:30px;border-radius:3px;border:none;color:#fff;background:#09a3dc;margin-top:5px}.login-btn:hover{background:#3cc3f5}.login-btn:active{padding:3px 0 0 1px;background:#098cbc}.tips{display:none;padding:5px;background:#f9f4d4;border-top:1px solid #efe9cc;font-size:9pt;border-radius:0 0 3px 3px;cursor:default}.tips:before{content:'i';display:inline-block;width:14px;height:14px;margin-right:5px;border-radius:14px;text-align:center;font-weight:700;color:#fff;background:#85a0c2}.tips:after{content:'';float:right;margin-top:5px;width:6px;height:6px;border:2px solid #aaa;border-right-color:transparent;border-bottom-color:transparent;transform:rotate(45deg)}.tips-show>.tips{display:block}
</style></head>
<body>
<div class="main-wnd"><header class="wnd-header" id="container"><div id="anitOut"></div></header><section class="control-box"><button class="control-btn btn-setting" title="设置"></button><button class="control-btn btn-min" title="最小化"></button><button class="control-btn btn-close" title="关闭">&times;</button></section><section class="wnd-content"><div class="content-left"><div class="avatar-wrap"><img class="avatar" src="avatar.png" width="80px" height="80px"><div class="login-state mi-online"></div><div class="login-state-menu"><div class="menu-item mi-online">我在线上</div><div class="menu-item mi-qme">Q我吧</div><div class="menu-divider"></div><div class="menu-item mi-away">离开</div><div class="menu-item mi-busy">忙碌</div><div class="menu-item mi-quiet">请勿打扰</div><div class="menu-divider"></div><div class="menu-item mi-invisible">隐身</div></div></div></div><div class="content-center"><div class="txt-wrap tw-acc"><input type="text" class="txt txt-acc" placeholder="QQ号码/手机/邮箱"><button class="txt-btn btn-setting"></button></div><div class="txt-wrap tw-psw"><input type="password" class="txt txt-psw" placeholder="密码"></div><div class="login-option"><label class="lo-remember-psw"><input type="checkbox" class="chkbox remember-psw">记住密码</label><label class="lo-auto-login"><input type="checkbox" class="chkbox auto-login">自动登录</label></div><button class="login-btn">登 录</button></div><div class="content-right"><div class="link-wrap"><button class="link-btn">注册账号</button></div><div class="link-wrap"><button class="link-btn">找回密码</button></div></div></section><section class="tips">登录失败！</section></div>
<script id="App_Entry">(function(){function $(a){return document.querySelector(a)}function hideMenu(){$(".avatar-wrap").classList.remove("menu-show")}window.addEventListener("click",function(d){var c=d.target,b=c.classList;if(b.contains("login-state")){c.parentNode.classList.toggle("menu-show")}else{if(b.contains("menu-item")){var a=$(".login-state").classList;a.remove(a[1]);a.add(b[1]);hideMenu()}else{if(b.contains("login-btn")){$(".main-wnd").classList.add("tips-show")}else{if(b.contains("tips")){c.parentNode.classList.remove("tips-show")}else{if(b.contains("btn-setting")){toggleGraident()}else{if(b.contains("chkbox")){if(c.checked&&b.contains("auto-login")){$(".remember-psw").checked=true}else{if(b.contains("remember-psw")){$(".auto-login").checked=false}}}else{hideMenu()}}}}}}});var wnd=$(".main-wnd");wnd.style.left=innerWidth/2-215+"px",wnd.style.top=innerHeight/2-165+"px";var pallate=[255,15,3855,3840,4080,240,255];var colors=[];function initColors(){for(var b=0,a=pallate.length-1;b<a;b++){colors.push.apply(colors,gradient(pallate[b],pallate[b+1]))}}var bGradientEnable=false;function toggleGraident(){if(!colors.length){initColors()}if(bGradientEnable){window.removeEventListener("fss::frame",cbFrame)}else{window.addEventListener("fss::frame",cbFrame)}bGradientEnable=!bGradientEnable}var last=0*Date.now();function cbFrame(a){var b=Date.now();if(b-last>100){changeColor(a.data.lights);last=b}}var index=0;function changeColor(g){var b,f;if(index>=colors.length-1){index=0}b=colors[index++],f=dark(b);for(var e=g.length;--e>=0;){g[e].diffuse.set(e&1?b:f);g[e].ambient.set(e&1?b:f)}}function gradient(g,c,d){var e=g^c,h=e/15,a=[];for(var b=0;b<15;b++){g=!!(c&e)?g+h:g-h;a.push(toHex(g).replace(/(\w)/g,"$1$1"))}return a}function toHex(a){return"#"+("000"+a.toString(16)).slice(-3)}function dark(j){var h=170,i=parseInt(j.replace("#","0x"),16),f=i>>16,e=i>>8&255,a=i&255;return"#"+("000000"+(Math.max(0,(f-h)<<16)|Math.max(0,(e-h)<<8)|Math.max(0,a-h)).toString(16)).slice(-6)}function parent(b,e){var a=b;while(a&&a!==document&&!a.classList.contains(e)&&(a=a.parentNode)){}return a===document?null:a}window.addEventListener("mousedown",function(c){var f,a=c.target,b;if((b=parent(a,"wnd-header"))){f=document.drag=document.drag||{};f.en=true,f.wnd=b.parentNode,f.offx=c.offsetX,f.offy=c.offsetY}});window.addEventListener("mouseup",function(){document.drag&&(document.drag.en=false)});window.addEventListener("mousemove",function(b){var a=b.pageX,f=b.pageY,c=document.drag;if(c&&c.en){c.wnd.style.left=a-c.offx+"px",c.wnd.style.top=f-c.offy+"px"}})}());
</script>
<script id="FSS_Lib">CAV={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"};CAV.Array=typeof Float32Array==="function"?Float32Array:Array;CAV.Utils={isNumber:function(b){return !isNaN(parseFloat(b))&&isFinite(b)}};(function(){for(var e=0,d=["ms","moz","webkit","o"],f=0;f<d.length&&!window.requestAnimationFrame;++f){window.requestAnimationFrame=window[d[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[f]+"CancelAnimationFrame"]||window[d[f]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(a){var j=(new Date).getTime(),i=Math.max(0,16-(j-e)),h=window.setTimeout(function(){a(j+i)},i);e=j+i;return h}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(b){clearTimeout(b)}}})();Math.PIM2=Math.PI*2;Math.PID2=Math.PI/2;Math.randomInRange=function(d,c){return d+(c-d)*Math.random()};Math.clamp=function(e,d,f){e=Math.max(e,d);return e=Math.min(e,f)};CAV.Vector3={create:function(f,e,h){var g=new CAV.Array(3);this.set(g,f,e,h);return g},clone:function(d){var c=this.create();this.copy(c,d);return c},set:function(f,e,h,g){f[0]=e||0;f[1]=h||0;f[2]=g||0;return this},setX:function(d,c){d[0]=c||0;return this},setY:function(d,c){d[1]=c||0;return this},setZ:function(d,c){d[2]=c||0;return this},copy:function(d,c){d[0]=c[0];d[1]=c[1];d[2]=c[2];return this},add:function(d,c){d[0]+=c[0];d[1]+=c[1];d[2]+=c[2];return this},addVectors:function(e,d,f){e[0]=d[0]+f[0];e[1]=d[1]+f[1];e[2]=d[2]+f[2];return this},addScalar:function(d,c){d[0]+=c;d[1]+=c;d[2]+=c;return this},subtract:function(d,c){d[0]-=c[0];d[1]-=c[1];d[2]-=c[2];return this},subtractVectors:function(e,d,f){e[0]=d[0]-f[0];e[1]=d[1]-f[1];e[2]=d[2]-f[2];return this},subtractScalar:function(d,c){d[0]-=c;d[1]-=c;d[2]-=c;return this},multiply:function(d,c){d[0]*=c[0];d[1]*=c[1];d[2]*=c[2];return this},multiplyVectors:function(e,d,f){e[0]=d[0]*f[0];e[1]=d[1]*f[1];e[2]=d[2]*f[2];return this},multiplyScalar:function(d,c){d[0]*=c;d[1]*=c;d[2]*=c;return this},divide:function(d,c){d[0]/=c[0];d[1]/=c[1];d[2]/=c[2];return this},divideVectors:function(e,d,f){e[0]=d[0]/f[0];e[1]=d[1]/f[1];e[2]=d[2]/f[2];return this},divideScalar:function(d,c){c!==0?(d[0]/=c,d[1]/=c,d[2]/=c):(d[0]=0,d[1]=0,d[2]=0);return this},cross:function(g,f){var j=g[0],i=g[1],h=g[2];g[0]=i*f[2]-h*f[1];g[1]=h*f[0]-j*f[2];g[2]=j*f[1]-i*f[0];return this},crossVectors:function(e,d,f){e[0]=d[1]*f[2]-d[2]*f[1];e[1]=d[2]*f[0]-d[0]*f[2];e[2]=d[0]*f[1]-d[1]*f[0];return this},min:function(d,c){d[0]<c&&(d[0]=c);d[1]<c&&(d[1]=c);d[2]<c&&(d[2]=c);return this},max:function(d,c){d[0]>c&&(d[0]=c);d[1]>c&&(d[1]=c);d[2]>c&&(d[2]=c);return this},clamp:function(e,d,f){this.min(e,d);this.max(e,f);return this},limit:function(f,e,h){var g=this.length(f);e!==null&&g<e?this.setLength(f,e):h!==null&&g>h&&this.setLength(f,h);return this},dot:function(d,c){return d[0]*c[0]+d[1]*c[1]+d[2]*c[2]},normalise:function(b){return this.divideScalar(b,this.length(b))},negate:function(b){return this.multiplyScalar(b,-1)},distanceSquared:function(g,f){var j=g[0]-f[0],i=g[1]-f[1],h=g[2]-f[2];return j*j+i*i+h*h},distance:function(d,c){return Math.sqrt(this.distanceSquared(d,c))},lengthSquared:function(b){return b[0]*b[0]+b[1]*b[1]+b[2]*b[2]},length:function(b){return Math.sqrt(this.lengthSquared(b))},setLength:function(e,d){var f=this.length(e);f!==0&&d!==f&&this.multiplyScalar(e,d/f);return this}};CAV.Vector4={create:function(f,e,h){var g=new CAV.Array(4);this.set(g,f,e,h);return g},set:function(g,f,j,i,h){g[0]=f||0;g[1]=j||0;g[2]=i||0;g[3]=h||0;return this},setX:function(d,c){d[0]=c||0;return this},setY:function(d,c){d[1]=c||0;return this},setZ:function(d,c){d[2]=c||0;return this},setW:function(d,c){d[3]=c||0;return this},add:function(d,c){d[0]+=c[0];d[1]+=c[1];d[2]+=c[2];d[3]+=c[3];return this},multiplyVectors:function(e,d,f){e[0]=d[0]*f[0];e[1]=d[1]*f[1];e[2]=d[2]*f[2];e[3]=d[3]*f[3];return this},multiplyScalar:function(d,c){d[0]*=c;d[1]*=c;d[2]*=c;d[3]*=c;return this},min:function(d,c){d[0]<c&&(d[0]=c);d[1]<c&&(d[1]=c);d[2]<c&&(d[2]=c);d[3]<c&&(d[3]=c);return this},max:function(d,c){d[0]>c&&(d[0]=c);d[1]>c&&(d[1]=c);d[2]>c&&(d[2]=c);d[3]>c&&(d[3]=c);return this},clamp:function(e,d,f){this.min(e,d);this.max(e,f);return this}};CAV.Color=function(d,c){this.rgba=CAV.Vector4.create();this.hex=d||"#000000";this.opacity=CAV.Utils.isNumber(c)?c:1;this.set(this.hex,this.opacity)};CAV.Color.prototype={set:function(e,d){var e=e.replace("#",""),f=e.length/3;this.rgba[0]=parseInt(e.substring(f*0,f*1),16)/255;this.rgba[1]=parseInt(e.substring(f*1,f*2),16)/255;this.rgba[2]=parseInt(e.substring(f*2,f*3),16)/255;this.rgba[3]=CAV.Utils.isNumber(d)?d:this.rgba[3];return this},hexify:function(b){b=Math.ceil(b*255).toString(16);b.length===1&&(b="0"+b);return b},format:function(){var e=this.hexify(this.rgba[0]),d=this.hexify(this.rgba[1]),f=this.hexify(this.rgba[2]);return this.hex="#"+e+d+f}};CAV.Object=function(){this.position=CAV.Vector3.create()};CAV.Object.prototype={setPosition:function(e,d,f){CAV.Vector3.set(this.position,e,d,f);
return this}};CAV.Light=function(d,c){CAV.Object.call(this);this.ambient=new CAV.Color(d||"#FFFFFF");this.diffuse=new CAV.Color(c||"#FFFFFF");this.ray=CAV.Vector3.create()};CAV.Light.prototype=Object.create(CAV.Object.prototype);CAV.Vertex=function(e,d,f){this.position=CAV.Vector3.create(e,d,f)};CAV.Vertex.prototype={setPosition:function(e,d,f){CAV.Vector3.set(this.position,e,d,f);return this}};CAV.Triangle=function(e,d,f){this.a=e||new CAV.Vertex;this.b=d||new CAV.Vertex;this.c=f||new CAV.Vertex;this.vertices=[this.a,this.b,this.c];this.u=CAV.Vector3.create();this.v=CAV.Vector3.create();this.centroid=CAV.Vector3.create();this.normal=CAV.Vector3.create();this.color=new CAV.Color;this.polygon=document.createElementNS(CAV.SVGNS,"polygon");this.polygon.setAttributeNS(null,"stroke-linejoin","round");this.polygon.setAttributeNS(null,"stroke-miterlimit","1");this.polygon.setAttributeNS(null,"stroke-width","1");this.computeCentroid();this.computeNormal()};CAV.Triangle.prototype={computeCentroid:function(){this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0];this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1];this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2];CAV.Vector3.divideScalar(this.centroid,3);return this},computeNormal:function(){CAV.Vector3.subtractVectors(this.u,this.b.position,this.a.position);CAV.Vector3.subtractVectors(this.v,this.c.position,this.a.position);CAV.Vector3.crossVectors(this.normal,this.u,this.v);CAV.Vector3.normalise(this.normal);return this}};CAV.Geometry=function(){this.vertices=[];this.triangles=[];this.dirty=false};CAV.Geometry.prototype={update:function(){if(this.dirty){var d,c;for(d=this.triangles.length-1;d>=0;d--){c=this.triangles[d],c.computeCentroid(),c.computeNormal()}this.dirty=false}return this}};CAV.Plane=function(i,h,n,m){CAV.Geometry.call(this);this.width=i||100;this.height=h||100;this.segments=n||4;this.slices=m||4;this.segmentWidth=this.width/this.segments;this.sliceHeight=this.height/this.slices;var l,k,j,n=[];l=this.width*-0.5;k=this.height*0.5;for(i=0;i<=this.segments;i++){n.push([]);for(h=0;h<=this.slices;h++){m=new CAV.Vertex(l+i*this.segmentWidth,k-h*this.sliceHeight),n[i].push(m),this.vertices.push(m)}}for(i=0;i<this.segments;i++){for(h=0;h<this.slices;h++){m=n[i+0][h+0],l=n[i+0][h+1],k=n[i+1][h+0],j=n[i+1][h+1],t0=new CAV.Triangle(m,l,k),t1=new CAV.Triangle(k,l,j),this.triangles.push(t0,t1)}}};CAV.Plane.prototype=Object.create(CAV.Geometry.prototype);CAV.Material=function(d,c){this.ambient=new CAV.Color(d||"#444444");this.diffuse=new CAV.Color(c||"#FFFFFF");this.slave=new CAV.Color};CAV.Mesh=function(d,c){CAV.Object.call(this);this.geometry=d||new CAV.Geometry;this.material=c||new CAV.Material;this.side=CAV.FRONT;this.visible=true};CAV.Mesh.prototype=Object.create(CAV.Object.prototype);CAV.Mesh.prototype.update=function(i,h){var n,m,l,k,j;this.geometry.update();if(h){for(n=this.geometry.triangles.length-1;n>=0;n--){m=this.geometry.triangles[n];CAV.Vector4.set(m.color.rgba);for(l=i.length-1;l>=0;l--){k=i[l],CAV.Vector3.subtractVectors(k.ray,k.position,m.centroid),CAV.Vector3.normalise(k.ray),j=CAV.Vector3.dot(m.normal,k.ray),this.side===CAV.FRONT?j=Math.max(j,0):this.side===CAV.BACK?j=Math.abs(Math.min(j,0)):this.side===CAV.DOUBLE&&(j=Math.max(Math.abs(j),0)),CAV.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,k.ambient.rgba),CAV.Vector4.add(m.color.rgba,this.material.slave.rgba),CAV.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,k.diffuse.rgba),CAV.Vector4.multiplyScalar(this.material.slave.rgba,j),CAV.Vector4.add(m.color.rgba,this.material.slave.rgba)}CAV.Vector4.clamp(m.color.rgba,0,1)}}return this};CAV.Scene=function(){this.meshes=[];this.lights=[]};CAV.Scene.prototype={add:function(b){b instanceof CAV.Mesh&&!~this.meshes.indexOf(b)?this.meshes.push(b):b instanceof CAV.Light&&!~this.lights.indexOf(b)&&this.lights.push(b);return this},remove:function(b){b instanceof CAV.Mesh&&~this.meshes.indexOf(b)?this.meshes.splice(this.meshes.indexOf(b),1):b instanceof CAV.Light&&~this.lights.indexOf(b)&&this.lights.splice(this.lights.indexOf(b),1);return this}};CAV.Renderer=function(){this.halfHeight=this.halfWidth=this.height=this.width=0};CAV.Renderer.prototype={setSize:function(d,c){if(!(this.width===d&&this.height===c)){return this.width=d,this.height=c,this.halfWidth=this.width*0.5,this.halfHeight=this.height*0.5,this}},clear:function(){return this},render:function(){return this}};CAV.CanvasRenderer=function(){CAV.Renderer.call(this);this.element=document.createElement("canvas");this.element.style.display="block";this.context=this.element.getContext("2d");this.setSize(this.element.width,this.element.height)};CAV.CanvasRenderer.prototype=Object.create(CAV.Renderer.prototype);CAV.CanvasRenderer.prototype.setSize=function(d,c){CAV.Renderer.prototype.setSize.call(this,d,c);this.element.width=d;this.element.height=c;this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight);
return this};CAV.CanvasRenderer.prototype.clear=function(){CAV.Renderer.prototype.clear.call(this);this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height);return this};CAV.CanvasRenderer.prototype.render=function(h){CAV.Renderer.prototype.render.call(this,h);var g,l,k,j,i;this.clear();this.context.lineJoin="round";this.context.lineWidth=1;for(g=h.meshes.length-1;g>=0;g--){if(l=h.meshes[g],l.visible){l.update(h.lights,true);for(k=l.geometry.triangles.length-1;k>=0;k--){j=l.geometry.triangles[k],i=j.color.format(),this.context.beginPath(),this.context.moveTo(j.a.position[0],j.a.position[1]),this.context.lineTo(j.b.position[0],j.b.position[1]),this.context.lineTo(j.c.position[0],j.c.position[1]),this.context.closePath(),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.stroke(),this.context.fill()}}}return this};
</script>
<script id="RandomTriangle">(function (){var t={width:1.5,height:1.5,depth:10,segments:9,slices:3,xRange:0.8,yRange:0.1,zRange:1,ambient:"#525252",diffuse:"#FFFFFF",speed:0.0005};var G={count:2,xyScalar:1,zOffset:100,ambient:"#002c4a",diffuse:"#005584",speed:0.001,gravity:1200,dampening:0.95,minLimit:10,maxLimit:null,minDistance:20,maxDistance:400,autopilot:true,draw:true,bounds:CAV.Vector3.create(),step:CAV.Vector3.create(Math.randomInRange(0.2,1),Math.randomInRange(0.2,1),Math.randomInRange(0.2,1))};var m="canvas";var E="svg";var x={renderer:m};var i,n=Date.now();var L=CAV.Vector3.create();var k=CAV.Vector3.create();var z=document.getElementById("container");var w=document.getElementById("anitOut");var D,I,h,q,y;var g;var r;var globalEvent=new Event("fss::frame");function C(){F();p();s();B();v();K(z.offsetWidth,z.offsetHeight);o()}function F(){g=new CAV.CanvasRenderer();H(x.renderer)}function H(a){if(D){w.removeChild(D.element)}switch(a){case m:D=g;break}D.setSize(z.offsetWidth,z.offsetHeight);w.appendChild(D.element)}function p(){I=new CAV.Scene()}function s(){I.remove(h);D.clear();q=new CAV.Plane(t.width*D.width,t.height*D.height,t.segments,t.slices);y=new CAV.Material(t.ambient,t.diffuse);h=new CAV.Mesh(q,y);I.add(h);var b,a;for(b=q.vertices.length-1;b>=0;b--){a=q.vertices[b];a.anchor=CAV.Vector3.clone(a.position);a.step=CAV.Vector3.create(Math.randomInRange(0.2,1),Math.randomInRange(0.2,1),Math.randomInRange(0.2,1));a.time=Math.randomInRange(0,Math.PIM2)}}function B(){var a,b;for(a=I.lights.length-1;a>=0;a--){b=I.lights[a];I.remove(b)}D.clear();for(a=0;a<G.count;a++){b=new CAV.Light(G.ambient,G.diffuse);b.ambientHex=b.ambient.format();b.diffuseHex=b.diffuse.format();I.add(b);b.mass=Math.randomInRange(0.5,1);b.velocity=CAV.Vector3.create();b.acceleration=CAV.Vector3.create();b.force=CAV.Vector3.create()}globalEvent.data=I}function K(a,b){D.setSize(a,b);CAV.Vector3.set(L,D.halfWidth,D.halfHeight);s()}function o(){i=Date.now()-n;u();M();window.dispatchEvent(globalEvent);requestAnimationFrame(o)}function u(){var X,Y,Z,f,d,b,c,e=t.depth/2;CAV.Vector3.copy(G.bounds,L);CAV.Vector3.multiplyScalar(G.bounds,G.xyScalar);CAV.Vector3.setZ(k,G.zOffset);if(G.autopilot){X=Math.sin(G.step[0]*i*G.speed);Y=Math.cos(G.step[1]*i*G.speed);CAV.Vector3.set(k,G.bounds[0]*X,G.bounds[1]*Y,G.zOffset)}for(f=I.lights.length-1;f>=0;f--){d=I.lights[f];CAV.Vector3.setZ(d.position,G.zOffset);var aa=Math.clamp(CAV.Vector3.distanceSquared(d.position,k),G.minDistance,G.maxDistance);var a=G.gravity*d.mass/aa;CAV.Vector3.subtractVectors(d.force,k,d.position);CAV.Vector3.normalise(d.force);CAV.Vector3.multiplyScalar(d.force,a);CAV.Vector3.set(d.acceleration);CAV.Vector3.add(d.acceleration,d.force);CAV.Vector3.add(d.velocity,d.acceleration);CAV.Vector3.multiplyScalar(d.velocity,G.dampening);CAV.Vector3.limit(d.velocity,G.minLimit,G.maxLimit);CAV.Vector3.add(d.position,d.velocity)}for(b=q.vertices.length-1;b>=0;b--){c=q.vertices[b];X=Math.sin(c.time+c.step[0]*i*t.speed);Y=Math.cos(c.time+c.step[1]*i*t.speed);Z=Math.sin(c.time+c.step[2]*i*t.speed);CAV.Vector3.set(c.position,t.xRange*q.segmentWidth*X,t.yRange*q.sliceHeight*Y,t.zRange*e*Z-e);CAV.Vector3.add(c.position,c.anchor)}q.dirty=true}function M(){D.render(I)}function J(e){var c,f,a=e;var d=function(N){for(c=0,l=I.lights.length;c<l;c++){f=I.lights[c];f.ambient.set(N);f.ambientHex=f.ambient.format()}};var b=function(N){for(c=0,l=I.lights.length;c<l;c++){f=I.lights[c];f.diffuse.set(N);f.diffuseHex=f.diffuse.format()}};return{set:function(){d(a[0]);b(a[1])}}}function v(){}function A(a){CAV.Vector3.set(k,a.x,D.height-a.y);CAV.Vector3.subtract(k,L)}function j(a){K(z.offsetWidth,z.offsetHeight);M()}C();}())
</script></body></html>
